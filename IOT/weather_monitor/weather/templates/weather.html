{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Monitoring</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<style>
    body {
        font-family: Sofadi One;
        margin: 0;
        padding: 0;
        background-color: #f5f5f5;
    }

    .faq {
        max-width: 1000px;
        margin: 20px auto;
        padding: 20px;
        background-color: #fff;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    h2 {
        text-align: center;
        margin-bottom: 20px;
    }

    .faq-list {
        list-style: none;
        padding: 0;
    }

    .faq-item {
        margin-bottom: 15px;
        font-size:20px;
    }

    .faq-question {
        background-color: #f9f9f9;
        padding: 15px;
        border-radius: 5px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .faq-answer {
        background-color: #fff;
        padding: 15px;
        border-radius: 5px;
        margin-top: 10px;
        display: none;
    }

    .faq-answer.active {
        display: block;
    }

    .plus-icon {
        font-size: 1.2rem;
        transition: transform 0.3s ease-in-out;
    }

    .faq-question.active .plus-icon {
        transform: rotate(90deg);
    }
    nav {
        {% comment %} background-color: white; {% endcomment %}
        padding: 1rem 0;
    }
    
    .nav-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
    }
    
    .logo {
        text-decoration: none;
    }
    
    .logo img {
        height: 30px;
    }
    
    .nav-links {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
    }
    
    .nav-links li {
        margin-left: 20px;
    }
    
    .nav-links a {
        text-decoration: none;
        color: #2b547e;
        font-weight: bold;
        font-size: 20px;
    }
    
    @media (max-width: 768px) {
        .nav-links {
            display: none;
        }
    }
    .head{
        font-weight: bold;
        font-size: 25px;
    }
    .head-p{
        font-weight: bold;
        font-size: 50px;
        text-shadow: 2px 2px #151b54;
    }
    .para-p{
        {% comment %} font-weight: bold; {% endcomment %}
        font-size: 20px;
    }
</style>
<body>
    {% comment %} <header id="header">
        <nav class="navbar navbar-expand-md">
          <div class="container">
              <a class="navbar-brand" href="/"><img src="{% static 'images/viroshield-logo.png' %}" alt="" srcset=""></a>
              <button class="navbar-toggler border-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
              <span class="navbar-toggler-icon"></span>
              </button>
              <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
              <div class="offcanvas-header">
                  <a class="navbar-brand" href="/"><img src="{% static 'images/viroshield-logo.png' %}" alt="" srcset=""></a>
                  <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
                  <ul class="navbar-nav justify-content-end align-items-center flex-grow-1 pe-3">
                      <li class="nav-item">
                          <a class="nav-link" aria-current="page" href="#features">Features</a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link" href="#about">About</a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link" href="#faq">FAQs</a>
                      </li>
                      <!-- Assuming this is in a template file -->
                  </ul>
              </div>
              </div>
          </div>
        </nav>
      </header> {% endcomment %}
      <nav>
        <div class="nav-container">
            <a href="#" class="logo">
                <img src="logo.svg" alt="Logo">
            </a>
            <ul class="nav-links">
                <li><a href="#">Features</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">FAQs</a></li>
            </ul>
        </div>
    </nav>
      <main id="main">
        <section id="hero" class="pb-5 d-flex align-items-center">
            <div class="container">
              <div class="row gx-md-5 flex-column-reverse flex-md-row">
                <div class="col-md-7 align-items-center d-flex">
                  <div class="hero-inner">
                    <h5 class="fw-bold  head">Weather Ninja: Your Weather Station</h5>
                    <h2 class="section-title display-6 fw-bold head-p">Predict, Protect, Prevent</h2>
                    <p class="lead">Our weather monitoring system empowers you to Predict changes with accurate forecasts, Protect lives and assets through timely alerts, and Prevent damage by enabling proactive actions against severe weather conditions. </p>
                    <a href="#weathersystem" class="btn btn-outline-primary fw-bold rounded-pill">See Weather</a>
                  </div>
                </div>
                <div class="col-md-5 align-items-center d-flex">
                  <img id="hero-img" src="{% static 'viroshield.svg' %}" alt="" class="img-fluid mb-5 mb-md-0">
                </div>
              </div>
            </div>
        </section>
            {% comment %} <div class="container">
        <h3 id="weathersystem" >Weather Monitoring System</h1>

        <div class="chart-container">
            <canvas id="weatherChart"></canvas>
        </div>

        <div class="table-container mt-5">
            <table class="table table-striped table-dark">
                <thead>
                    <tr>
                        <th scope="col">Temperature (°C)</th>
                        <th scope="col">Humidity (%)</th>
                        <th scope="col">Timestamp</th>
                    </tr>
                </thead>
                <tbody>
                    {% for data in weather_data %}
                    <tr>
                        <td>{{ data.temperature }}</td>
                        <td>{{ data.humidity }}</td>
                        <td>{{ data.timestamp }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div> {% endcomment %}
    <div class="container">
        <h3 id="weathersystem" class="text-center my-4 head-p">Weather Monitoring System</h3>
    
        <div class="row">
            <div class="col-12">
                <div class="chart-container">
                    <canvas id="weatherChart"></canvas>
                </div>
            </div>
        </div>
    
        <div class="row mt-5">
            <div class="col-12">
                <div class="table-responsive">
                    <table class="table table-striped table-dark table-hover">
                        <thead>
                            <tr>
                                <th scope="col">Temperature (°C)</th>
                                <th scope="col">Humidity (%)</th>
                                <th scope="col">Timestamp</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for data in weather_data %}
                            <tr>
                                <td>{{ data.temperature }}</td>
                                <td>{{ data.humidity }}</td>
                                <td>{{ data.timestamp }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <section id="about" class="bg-white py-5 my-4">
        <div class="container">
          <h2 class="section-title text-center display-5 mb-1  head-p" >About Weather Ninja</h2>
          <div class="row g-5">
            <div class="col-lg-7">
                <p class="about-desc mt-3 mb-5 fs-5 text-secondary para-p">Our system uses advanced algorithms and real-time data to provide accurate weather forecasts, helping you stay ahead of changing conditions. With timely alerts for severe weather, we help safeguard lives, infrastructure, and resources by enabling proactive safety measures.</p>
                  <div class="row">
                      <div class="col-md-6">
                          <div class="about-card">
                              <h4 class="about-card-title"> 1. Advanced Analytics</h3>
                              {% comment %} <p class="about-card-desc text-secondary">Our platform leverages state-of-the-art data analytics techniques to analyze trends, patterns, and historical data related to viral outbreaks. We transform raw data into actionable insights.</p> {% endcomment %}
                          </div>
                      </div>
                      <div class="col-md-6">
                          <div class="about-card">
                              <h4 class="about-card-title">2. Real-time Updates</h3>
                              {% comment %} <p class="about-card-desc text-secondary">Stay informed with real-time updates on the rise of viral cases and health issues. Our dashboard provides visualizations and predictions to keep you aware and safe.</p> {% endcomment %}
                          </div>
                      </div>
                  </div>
              </div>
              <div class="col-lg-5 text-end">
                  <img id="about-img" src="{% static './about.png' %}" class="img-fluid" alt="ViroShield">
              </div>
          </div>
        </div>
    </section>
    {% comment %} <section id="faq" class="py-5 my-5">
        <div class="container">
            <h2 class="section-title text-center display-5">Frequently Asked Questions</h2>
            <p class="lead text-center mb-5">Questions about ViroShield? Find answers below!</p>
            
            <!-- FAQs -->
            <div class="accordion accordion-flush" id="accordionFlushExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                            How does ViroShield predict health threats?
                        </button>
                    </h2>
                    <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">
                            ViroShield employs advanced Big Data techniques to analyze various datasets and trends, enabling accurate predictions for potential health threats based on historical data and patterns.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                            How can ViroShield help in preventing health issues?
                        </button>
                    </h2>
                    <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">
                            By providing predictive analytics, ViroShield empowers users with insights to take timely precautions and actions, preventing potential health issues and contributing to overall well-being.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                            Is ViroShield's data analysis accurate and reliable?
                        </button>
                    </h2>
                    <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">
                            Yes, ViroShield's data analysis is built on robust methodologies, ensuring accurate predictions by continuously refining algorithms and incorporating up-to-date data sources.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingFour">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
                            How do I start using ViroShield?
                        </button>
                    </h2>
                    <div id="flush-collapseFour" class="accordion-collapse collapse" aria-labelledby="flush-headingFour" data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">
                            Getting started with ViroShield is easy. Sign up, input relevant health data, and let our predictive tools guide you towards a safer, healthier life.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section> {% endcomment %}
    <div class="faq">
        <h2 class=" head-p">Frequently Asked Questions</h2>
        <p class="para-p">Below are some common questions about our weather monitoring system:        </p>
        <ul class="faq-list">
            <li class="faq-item">
                <div class="faq-question">
                    What sensors are used in this weather monitoring system?
                    <span class="plus-icon">+</span>
                </div>
                <div class="faq-answer">
                    <p>This system uses a DHT11 sensor for temperature and humidity, a rain sensor to detect rainfall, and a pressure sensor to monitor atmospheric pressure.</p>
                </div>
            </li>
            <li class="faq-item">
                <div class="faq-question">
                    How accurate is the weather data collected?
                    <span class="plus-icon">+</span>
                </div>
                <div class="faq-answer">
                    <p> The system provides reasonably accurate readings. The DHT11 sensor has a temperature accuracy of ±2°C and humidity accuracy of ±5%, making it suitable for basic weather monitoring.</p>
                </div>
            </li>
            <li class="faq-item">
                <div class="faq-question">
                    Can I view real-time weather updates?
                    <span class="plus-icon">+</span>
                </div>
                <div class="faq-answer">
                    <p>Yes, the system is designed to provide real-time weather updates, allowing you to access current conditions such as temperature, humidity, rainfall, and pressure levels.</p>
                </div>
            </li>
            <li class="faq-item">
                <div class="faq-question">
                    How is the data from the sensors stored and processed?
                    <span class="plus-icon">+</span>
                </div>
                <div class="faq-answer">
                    <p>The data collected from the sensors is processed by the Raspberry Pi and can be stored in a database for historical tracking, or displayed on a dashboard for live monitoring.</p>
                </div>
            </li>
        </ul>
    </div>
</main>
    <footer id="footer">
        <div class="container">
            <div class="text-center text-white py-4">Made with ❤️ by Code Titans &copy;</div>
        </div>
    </footer>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Custom JS -->
    <script src="{% static 'main.js' %}"></script>
    <script>
        // The limited weather data is already passed from views.py
        var limitedWeatherData = {
            labels: [{% for data in weather_data %}'{{ data.timestamp }}',{% endfor %}],
            datasets: [{
                label: 'Temperature (°C)',
                data: [{% for data in weather_data %}{{ data.temperature }},{% endfor %}],
                borderColor: 'rgba(255, 99, 132, 1)',
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                borderWidth: 2,
                fill: true,
                tension: 0.4,
            },
            {
                label: 'Humidity (%)',
                data: [{% for data in weather_data %}{{ data.humidity }},{% endfor %}],
                borderColor: 'rgba(54, 162, 235, 1)',
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderWidth: 2,
                fill: true,
                tension: 0.4,
            }]
        };

        var ctx = document.getElementById('weatherChart').getContext('2d');
        var weatherChart = new Chart(ctx, {
            type: 'line',
            data: limitedWeatherData,
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: false
                    }
                },
                plugins: {
                    legend: {
                        labels: {
                            color: 'white',
                            font: {
                                size: 14
                            }
                        }
                    }
                }
            }
        });
    </script>
    <script>
        const faqQuestions = document.querySelectorAll('.faq-question');

        faqQuestions.forEach(question => {
            question.addEventListener('click', () => {
                const answer = question.nextElementSibling;
                question.classList.toggle('active');
                answer.classList.toggle('active');
            });
        });
    </script>
</body>
</html>
